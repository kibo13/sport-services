!function(){var t,e={8790:function(){$(".alert-success").delay(5e3).fadeOut("fast"),$(".alert-limit").delay(7e3).fadeOut("fast")},8496:function(){$(document).on("click",".bk-btn-info",(function(t){$(this).toggleClass("bk-btn-info--active");var e=$(this).children("i");$(e).hasClass("fa-eye")?($(e).removeClass("fa-eye"),$(e).addClass("fa-eye-slash")):($(e).removeClass("fa-eye-slash"),$(e).addClass("fa-eye"))}))},4671:function(){document.getElementById("is-datatable")&&$(".table").dataTable({language:{searchPlaceholder:"Поиск",sProcessing:"Подождите...",sLengthMenu:"Показать _MENU_ записей",sZeroRecords:"Записи отсутствуют.",sInfo:"Записи с _START_ до _END_ из _TOTAL_ записей",sInfoEmpty:"Записи с 0 до 0 из 0 записей",sInfoFiltered:"(отфильтровано из _MAX_ записей)",sInfoPostFix:"",sSearch:"Поиск:",sUrl:"",oPaginate:{sFirst:"Первая",sPrevious:"‹",sNext:"›",sLast:"Последняя"},oAria:{sSortAscending:": активировать для сортировки столбца по возрастанию",sSortDescending:": активировать для сортировки столбцов по убыванию"}},ordering:!0,columnDefs:[{orderable:!1,targets:"no-sort"}],lengthMenu:[[10,25,50,-1],["Показывать по 10","Показывать по 25","Показывать по 50","Все записи"]]})},5742:function(){$("[data-file=upload]").on("change",(function(t){this.previousElementSibling.value=this.value}))},6880:function(){$(document).on("click",".bk-btn-action--user",(function(t){var e=$(t.target).data("id"),n=$(t.target).data("full-name"),o=$(t.target).data("phone"),a=$(t.target).data("photo");$("#js-client-place-id").val(e),$("#js-client-full-name").val(n),$("#js-client-phone").val(o),$("#js-client-photo").attr("src",a)}))},9954:function(){$(document).on("click",".bk-btn-action--delete",(function(t){var e=$(t.target).data("table"),n=$(location).attr("pathname"),o=$(t.target).data("id");if("special"===e)$("#bk-delete-form").attr("action","".concat(n,"/destroy/").concat(o));else $("#bk-delete-form").attr("action","".concat(n,"/").concat(o))}))},1115:function(t,e,n){"use strict";n.r(e);var o=n(1909);$(document).on("click",".bk-btn-action--plus",(function(t){var e=$(t.target).data("id");$("#js-place-id").val(e),(0,o.x)("js-place-client-id","/api/clients/search",(function(t){return"".concat(t.full_name)}))}))},3111:function(){var t=document.getElementById("sidebar");document.getElementById("sidebar-toggle").onclick=function(){t.classList.toggle("sidebar--active")}},9055:function(t,e,n){"use strict";n.r(e),n.d(e,{tag:function(){return o}});var o={event:function(t){return'\n            <ul>\n                <li class="font-weight-bold">Событие</li>\n                <li>'.concat(t.title,'</li>\n                <li class="font-weight-bold">Вид</li>\n                <li>').concat(t.type,'</li>\n                <li class="font-weight-bold">Тренер</li>\n                <li>').concat(t.trainer,'</li>\n                <li class="font-weight-bold">Место проведения</li>\n                <li>').concat(t.place,"</li>\n            </ul>\n        ")},timetable:function(t){return"\n            <ul>\n                <li>\n                    <strong>Группа: </strong>\n                    <span>".concat(t.group,"</span>\n                </li>\n                <li>\n                    <strong>Категория: </strong>\n                    <span>").concat(t.category,"</span>\n                </li>\n                <li>\n                    <strong>Кабинет: </strong>\n                    <span>").concat(t.room,"</span>\n                </li>\n                <li>\n                    <strong>Время занятия: </strong>\n                    <span>").concat(t.title,"</span>\n                </li>\n                <li>\n                    <strong>Руководитель: </strong>\n                    <span>").concat(t.teacher,"</span>\n                </li>\n            </ul>\n        ")}}},3498:function(t,e,n){"use strict";n.r(e),n.d(e,{calc:function(){return o}});var o={age:function(t){var e=new Date,n=new Date(t),o=e.getFullYear()-n.getFullYear(),a=e.getMonth()-n.getMonth();return a<0||0===a&&e.getDate()<n.getDate()?o--:o},fullAge:function(t){var e=new Date-new Date(t);return Math.floor(e/1e3/60/60/24/365)}}},4236:function(t,e,n){"use strict";n.r(e),n.d(e,{compare:function(){return o}});var o={dates:function(t,e,n){var o=new Date(t),a=new Date(e);o.getTime()>=a.getTime()&&(n.preventDefault(),alert("Дата окончания не должна предшествовать дате начала"))}}},5996:function(){document.querySelector(".is-validation")&&($(".is-string").on("input",(function(){this.value=this.value.replace(/[^а-яё ]/gi,"")})),$(".is-number").on("input",(function(){this.value=this.value.replace(/\D/g,"")})),$(".is-float").on("input",(function(){this.value=this.value.replace(/[^0-9.]/g,"")})),$(".is-count").on("input",(function(){this.value=this.value.replace(/^0|\D/g,"")})),$(".is-phone").on("input",(function(){this.value=this.value.replace(/[^0-9 +]/g,"")})))},7148:function(t,e,n){n(3111),n(4671),n(9954),n(1115),n(6880),n(8790),n(8496),n(5742),n(9055),n(5996),n(3498),n(4236),n(1191),n(2601),n(5891),n(9241),n(9612)},5891:function(){if(document.getElementById("payment-form")){var t=function(){$("#client_id").val(null).trigger("change"),$("#client_id").select2("destroy"),$("#client_id").select2()},e=function(){f=0,u.value=0,s.innerText="",d.innerText="",l.innerText="".concat(c.value," ₽")},n=function(){var t=c.value,e=Math.ceil(c.value*f);d.innerText="".concat(100*f,"%"),s.innerText="".concat(e," ₽"),u.value=e,c.value=c.value-u.value,l.innerHTML='\n            <ul>\n                <li style="text-decoration: line-through;">'.concat(t,' ₽</li>\n                <li class="text-danger" style="font-size: 20px;">').concat(c.value," ₽</li>\n            </ul>\n        ")},o=document.getElementById("js-client-block"),a=document.getElementById("js-discount-block"),r=document.getElementById("activity_id"),i=document.getElementById("service_id"),c=document.getElementById("amount"),l=document.getElementById("js-amount-text"),u=document.getElementById("discount"),s=document.getElementById("js-discount-text"),d=document.getElementById("js-discount-tip"),f=0;$(".payment-input").on("change",(function(){$(".alert").addClass("d-none"),r.value=$(this).data("activity"),i.value=$(this).data("service"),c.value=$(this).data("price"),l.innerText="".concat(c.value," ₽"),1==$(this).data("type")?(e(),t(),o.classList.add("d-none"),$("#client_id").attr("required",!1),a.classList.add("d-none")):(o.classList.remove("d-none"),$("#client_id").attr("required",!0),a.classList.remove("d-none")),f&&n()})),$("#client_id").select2().on("change",(function(){var t=$(this).find("option:selected");(f=t.data("discount"))&&n()}))}},2601:function(){document.getElementById("profile-form")&&($.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$("#profile-photo").on("change",(function(){var t=this.files[0];if(t){var e=new FormData;e.append("photo",t),$.ajax({url:"/profile/photo/update",type:"POST",data:e,processData:!1,contentType:!1,success:function(t){return $("#photo").attr("src",t.photo)}})}})))},9612:function(t,e,n){"use strict";n.r(e);var o=n(4236);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}if(document.getElementById("report-index")){var i=document.getElementById("report-menu"),c=document.getElementsByClassName("js-report-form");$(i).on("change",(function(t){var e,n=t.target.options[i.selectedIndex].value,o=a(c);try{for(o.s();!(e=o.n()).done;){var r=e.value;n==r.id?r.classList.remove("d-none"):r.classList.add("d-none")}}catch(t){o.e(t)}finally{o.f()}}));var l,u=a(c);try{var s=function(){var t=l.value;$("#".concat(t.id," button")).on("click",(function(e){var n=$("#".concat(t.id," #report-from")).val(),a=$("#".concat(t.id," #report-till")).val();o.compare.dates(n,a,e)}))};for(u.s();!(l=u.n()).done;)s()}catch(t){u.e(t)}finally{u.f()}}},9241:function(t,e,n){"use strict";n.r(e);var o=n(4236);document.getElementById("statistic-index")&&$("#stat-run").on("click",(function(t){var e=$("#stat-from").val(),n=$("#stat-till").val();o.compare.dates(e,n,t)}))},1191:function(){document.getElementById("user-form")&&$("#role").on("change",(function(t){var e=$(this).find(":selected").data("slug");switch($(".bk-form__checkbox").prop("checked",!1),e){case"admin":case"director":$(".bk-form__checkbox").prop("checked",!0);break;case"paymaster":case"instructor":case"doctor":case"client":$(".bk-form__checkbox").prop("checked",!1)}}))},1909:function(t,e,n){"use strict";function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e,n){$("#"+t).select2({ajax:{url:e,dataType:"json",data:function(t){var e={search:t.term,type:"public"};return""!==$.trim(t.term)?e:null},processResults:function(t){return"object"===o(t)?{results:t.map((function(t){return{id:t.id,text:n(t)}}))}:(console.error("Unexpected data type received:",o(t)),{results:[]})}}})}n.d(e,{x:function(){return a}})},2840:function(){},3003:function(){},6582:function(){}},n={};function o(t){var a=n[t];if(void 0!==a)return a.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,o),r.exports}o.m=e,t=[],o.O=function(e,n,a,r){if(!n){var i=1/0;for(s=0;s<t.length;s++){n=t[s][0],a=t[s][1],r=t[s][2];for(var c=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(c=!1,r<i&&(i=r));if(c){t.splice(s--,1);var u=a();void 0!==u&&(e=u)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[n,a,r]},o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t={467:0,780:0,703:0,603:0,766:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,r,i=n[0],c=n[1],l=n[2],u=0;if(i.some((function(e){return 0!==t[e]}))){for(a in c)o.o(c,a)&&(o.m[a]=c[a]);if(l)var s=l(o)}for(e&&e(n);u<i.length;u++)r=i[u],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(s)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),o.O(void 0,[703,603,766],(function(){return o(7148)})),o.O(void 0,[703,603,766],(function(){return o(2840)})),o.O(void 0,[703,603,766],(function(){return o(3003)}));var a=o.O(void 0,[703,603,766],(function(){return o(6582)}));a=o.O(a)}();